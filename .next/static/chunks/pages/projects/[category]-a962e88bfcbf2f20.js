(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{2063:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var o=r(7876),a=r(4232),s=r(9099),c=r(7328),i=r.n(c),n=r(8230),l=r.n(n),p=r(6080),d=r.n(p),m=r(8896),j=r.n(m),_=r(4789),u=r(2388),h=r(486);function g(){var e;let[t,r]=(0,a.useState)([]),[c,n]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),{category:g}=(0,s.useRouter)().query,{language:x}=(0,_.o)(),N="sr"===x?h:u;(0,a.useEffect)(()=>{let e=setTimeout(()=>m(!0),2e3),t=setTimeout(()=>n(!0),2500);return()=>{clearTimeout(e),clearTimeout(t)}},[]),(0,a.useEffect)(()=>{c&&g&&fetch("/projects/all-projects.jsonld").then(e=>e.json()).then(e=>{r(e.projects.filter(e=>e.category&&e.category.toLowerCase()===g.toLowerCase()).map(e=>({...e,name:"object"==typeof e.name?e.name[x]||e.name.en:e.name,image:Array.isArray(e.image)&&e.image.length>0?e.image[0]:"https://via.placeholder.com/300x200?text=No+Image"})))}).catch(e=>{console.error("Error loading category projects:",e)})},[c,g,x]);let f="residential"===g?N.menu.residential:"retail"===g?N.menu.retail:"hotels"===g?N.menu.hotels:g,v=(null===(e=N.categories)||void 0===e?void 0:e[null==g?void 0:g.toLowerCase()])||{title:f,description:"All ".concat(f," projects by DM ARCHITECT.")};return(0,o.jsxs)(o.Fragment,{children:[!c&&(0,o.jsx)("div",{className:"".concat(j().preloader," ").concat(p?j().fadeOut:""),children:(0,o.jsx)("img",{src:"/images/DM_logo.svg",alt:"DM Arhitekt Logo",className:j().logo})}),c&&(0,o.jsxs)("div",{className:d().container,children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:"".concat(v.title," | DM ARCHITECT")}),(0,o.jsx)("meta",{name:"description",content:v.description})]}),(0,o.jsxs)("main",{className:d().main,children:[(0,o.jsx)("h1",{className:d().title,children:f}),(0,o.jsx)("div",{className:d().projectsGrid,children:t.length>0?t.map(e=>(0,o.jsxs)("div",{className:d().projectCard,children:[(0,o.jsx)(l(),{href:"/projects/".concat(e.category,"/").concat(e.id),children:(0,o.jsx)("img",{src:e.image,alt:e.name,className:d().projectImage})}),(0,o.jsx)("h2",{className:d().projectName,children:e.name})]},e.id)):(0,o.jsx)("p",{children:"No projects found."})})]})]})]})}},3177:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[category]",function(){return r(2063)}])},6080:e=>{e.exports={container:"projects_container__1pips",header:"projects_header__Hmit2",title:"projects_title__EXBP_",projectsGrid:"projects_projectsGrid__ZEoTv",projectCard:"projects_projectCard__GCwKE",projectImage:"projects_projectImage__5vro2",projectName:"projects_projectName__Kmrqp",description:"projects_description__bUCVP"}},7328:(e,t,r)=>{e.exports=r(9836)},8896:e=>{e.exports={preloader:"preloader_preloader__9JjSn",fadeOut:"preloader_fadeOut__HiuxX",logo:"preloader_logo__FmTGx"}},9099:(e,t,r)=>{e.exports=r(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(3177)),_N_E=e.O()}]);