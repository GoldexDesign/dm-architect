(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{3879:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>x});var r=o(7876),s=o(4232),c=o(7328),a=o.n(c),n=o(8230),i=o.n(n),l=o(6080),d=o.n(l),p=o(8896),j=o.n(p),m=o(4789),_=o(2388),u=o(486);let h=["hotel-sky","enoteka-la-botilleria","japanese-apartment","fimas-showroom","scavolini-store"];function x(){let[e,t]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[n,l]=(0,s.useState)(!1),{language:p}=(0,m.o)(),x="sr"===p?u:_;return(0,s.useEffect)(()=>{let e=setTimeout(()=>l(!0),2e3),t=setTimeout(()=>c(!0),2500);return()=>{clearTimeout(e),clearTimeout(t)}},[]),(0,s.useEffect)(()=>{o&&Promise.all(h.map(e=>fetch("/projects/".concat(e,".jsonld")).then(e=>e.json()).then(e=>{var t,o,r,s;return{id:e.id,name:"object"==typeof e.name?e.name[p]||e.name.en:e.name,category:(null===(o=e.projectType)||void 0===o?void 0:null===(t=o.toLowerCase)||void 0===t?void 0:t.call(o))||"unknown",image:e.featuredImage||(null===(r=e.image)||void 0===r?void 0:r[0])||"https://via.placeholder.com/300x200?text=No+Image",constructionYear:parseInt(null===(s=e.year)||void 0===s?void 0:s.construction)||0,description:"object"==typeof e.description?e.description[p]||e.description.en:e.description}}).catch(t=>(console.error("Failed to load ".concat(e,".jsonld"),t),null)))).then(e=>{t(e.filter(e=>null!==e).sort((e,t)=>t.constructionYear-e.constructionYear))})},[o,p]),(0,r.jsxs)(r.Fragment,{children:[!o&&(0,r.jsx)("div",{className:"".concat(j().preloader," ").concat(n?j().fadeOut:""),children:(0,r.jsx)("img",{src:"/images/DM_logo.svg",alt:"DM Arhitekt Logo",className:j().logo})}),o&&(0,r.jsxs)("div",{className:d().container,children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:[x.projects.title," | DM ARCHITECT"]}),(0,r.jsx)("meta",{name:"description",content:x.projects.description})]}),(0,r.jsxs)("main",{className:d().main,children:[(0,r.jsx)("div",{className:d().projectsGrid,children:e.length>0?e.map(e=>(0,r.jsxs)("div",{className:d().projectCard,children:[(0,r.jsx)(i(),{href:"/projects/".concat(e.category,"/").concat(e.id),children:(0,r.jsx)("img",{src:e.image,alt:e.name,className:d().projectImage})}),(0,r.jsx)("h2",{className:d().projectName,children:e.name})]},e.id)):(0,r.jsx)("p",{children:"Loading projects..."})}),(0,r.jsxs)("section",{className:d().description,children:[(0,r.jsx)("h2",{children:x.projects.title}),(0,r.jsx)("p",{children:x.projects.description})]})]})]})]})}},6080:e=>{e.exports={container:"projects_container__1pips",header:"projects_header__Hmit2",title:"projects_title__EXBP_",projectsGrid:"projects_projectsGrid__ZEoTv",projectCard:"projects_projectCard__GCwKE",projectImage:"projects_projectImage__5vro2",projectName:"projects_projectName__Kmrqp",description:"projects_description__bUCVP"}},6104:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return o(3879)}])},7328:(e,t,o)=>{e.exports=o(9836)},8896:e=>{e.exports={preloader:"preloader_preloader__9JjSn",fadeOut:"preloader_fadeOut__HiuxX",logo:"preloader_logo__FmTGx"}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6104)),_N_E=e.O()}]);